{"version":3,"file":"index.amd.js","sources":["oms.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar MarkerStatus = /** @class */ (function () {\r\n    function MarkerStatus() {\r\n    }\r\n    // universal status\r\n    MarkerStatus.SPIDERFIED = 'SPIDERFIED';\r\n    // statuses reported under standard regine\r\n    MarkerStatus.SPIDERFIABLE = 'SPIDERFIABLE';\r\n    MarkerStatus.UNSPIDERFIABLE = 'UNSPIDERFIABLE';\r\n    // status reported under simple status update regime only\r\n    MarkerStatus.UNSPIDERFIED = 'UNSPIDERFIED';\r\n    return MarkerStatus;\r\n}());\r\nexport { MarkerStatus };\r\nvar OverlappingMarkerSpiderfier = /** @class */ (function () {\r\n    function OverlappingMarkerSpiderfier(map, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var _this = this;\r\n        this.map = map;\r\n        this.spiderfiedZIndex = google.maps.Marker.MAX_ZINDEX + 20000;\r\n        this.highlightedLegZIndex = google.maps.Marker.MAX_ZINDEX + 10000;\r\n        this.usualLegZIndex = google.maps.Marker.MAX_ZINDEX + 1;\r\n        this.markers = [];\r\n        this.markerListenerRefs = [];\r\n        this.spiderfied = false;\r\n        this.spiderfying = false;\r\n        this.unspiderfying = false;\r\n        this.legColors = {\r\n            highlighted: (_a = {},\r\n                _a[google.maps.MapTypeId.HYBRID] = '#f00',\r\n                _a[google.maps.MapTypeId.ROADMAP] = '#f00',\r\n                _a[google.maps.MapTypeId.SATELLITE] = '#f00',\r\n                _a[google.maps.MapTypeId.TERRAIN] = '#f00',\r\n                _a),\r\n            usual: (_b = {},\r\n                _b[google.maps.MapTypeId.HYBRID] = '#fff',\r\n                _b[google.maps.MapTypeId.ROADMAP] = '#444',\r\n                _b[google.maps.MapTypeId.SATELLITE] = '#fff',\r\n                _b[google.maps.MapTypeId.TERRAIN] = '#444',\r\n                _b)\r\n        };\r\n        this.markersWontHide = false;\r\n        this.markersWontMove = false;\r\n        this.basicFormatEvents = false;\r\n        this.keepSpiderfied = false;\r\n        this.ignoreMapClick = false;\r\n        this.nearbyDistance = 20;\r\n        this.circleSpiralSwitchover = 9;\r\n        this.circleFootSeparation = 23;\r\n        this.circleStartAngle = Math.PI / 6;\r\n        this.spiralFootSeparation = 26;\r\n        this.spiralLengthStart = 11;\r\n        this.spiralLengthFactor = 4;\r\n        this.legWeight = 1.5;\r\n        this.VERSION = '1.0.3';\r\n        var keys = OverlappingMarkerSpiderfier.optionAttributes\r\n            .filter(function (key) { return typeof options[key] !== 'undefined'; });\r\n        keys.forEach(function (key) {\r\n            _this[key] = options[key];\r\n        });\r\n        this.projectionHelper = new (/** @class */ (function (_super) {\r\n            __extends(class_1, _super);\r\n            function class_1(map) {\r\n                var _this = _super.call(this) || this;\r\n                _this.setMap(map);\r\n                return _this;\r\n            }\r\n            class_1.prototype.draw = function () {\r\n            };\r\n            return class_1;\r\n        }(google.maps.OverlayView)))(this.map);\r\n        this.initMarkerArrays();\r\n        this.listeners = {};\r\n        this.formatIdleListener = this.formatTimeoutId = null;\r\n        this.addListener('click', function (marker, event) { return google.maps.event.trigger(marker, 'spider_click', event); }); // new-style events, easier to integrate\r\n        this.addListener('format', function (marker, status) { return google.maps.event.trigger(marker, 'spider_format', status); });\r\n        if (!this.ignoreMapClick) {\r\n            google.maps.event.addListener(this.map, 'click', function () { return _this.unspiderfy(); });\r\n        }\r\n        google.maps.event.addListener(this.map, 'maptypeid_changed', function () { return _this.unspiderfy(); });\r\n        google.maps.event.addListener(this.map, 'zoom_changed', function () {\r\n            _this.unspiderfy();\r\n            if (!_this.basicFormatEvents) {\r\n                return _this.formatMarkers();\r\n            }\r\n        });\r\n        var _a, _b;\r\n    }\r\n    OverlappingMarkerSpiderfier.prototype.doFormatMarkers = function () {\r\n        var result = [];\r\n        var marker;\r\n        var status;\r\n        // only formatMarkers is allowed to call this directly\r\n        if (this.basicFormatEvents) {\r\n            for (var i = 0; i < this.markers.length; i++) {\r\n                marker = this.markers[i];\r\n                status = marker['_omsData'] ? OverlappingMarkerSpiderfier.markerStatus.SPIDERFIED :\r\n                    OverlappingMarkerSpiderfier.markerStatus.UNSPIDERFIED;\r\n                result.push(this.trigger('format', marker, status));\r\n            }\r\n            return result;\r\n        }\r\n        var proximities = this.markerProximityData(); // {pt, willSpiderfy}[]\r\n        for (var i = 0; i < this.markers.length; i++) {\r\n            marker = this.markers[i];\r\n            status = marker['_omsData'] ?\r\n                OverlappingMarkerSpiderfier.markerStatus.SPIDERFIED :\r\n                proximities[i].willSpiderfy ?\r\n                    OverlappingMarkerSpiderfier.markerStatus.SPIDERFIABLE :\r\n                    OverlappingMarkerSpiderfier.markerStatus.UNSPIDERFIABLE;\r\n            result.push(this.trigger('format', marker, status));\r\n        }\r\n        return result;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.formatMarkers = function () {\r\n        var _this = this;\r\n        if (this.basicFormatEvents) {\r\n            return;\r\n        }\r\n        if (this.formatTimeoutId) {\r\n            return;\r\n        } // only format markers once per run loop (in case e.g. being called repeatedly from addMarker)\r\n        return this.formatTimeoutId = window.setTimeout(function () {\r\n            _this.formatTimeoutId = null;\r\n            if (_this.formatIdleListener) {\r\n                return;\r\n            }\r\n            _this.formatIdleListener = google.maps.event.addListenerOnce(_this.map, 'idle', function () {\r\n                _this.formatIdleListener = null;\r\n                _this.doFormatMarkers();\r\n            });\r\n        });\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.generatePtsCircle = function (count, centerPt) {\r\n        var circumference = this.circleFootSeparation * (2 + count);\r\n        var legLength = circumference / (2 * Math.PI); // = radius from circumference\r\n        var angleStep = 2 * Math.PI / count;\r\n        var result = [];\r\n        for (var i = 0, end = count, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\r\n            var angle = this.circleStartAngle + i * angleStep;\r\n            result.push(new google.maps.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle)));\r\n        }\r\n        return result;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.generatePtsSpiral = function (count, centerPt) {\r\n        var legLength = this.spiralLengthStart;\r\n        var angle = 0;\r\n        var result = [];\r\n        for (var i = 0, end = count, asc = 0 <= end; asc ? i < end : i > end; asc ? i++ : i--) {\r\n            angle += this.spiralFootSeparation / legLength + i * 0.0005;\r\n            var pt = new google.maps.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle));\r\n            legLength += Math.PI * 2 * this.spiralLengthFactor / angle;\r\n            result.push(pt);\r\n        }\r\n        return result;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.initMarkerArrays = function () {\r\n        this.markers = [];\r\n        this.markerListenerRefs = [];\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.llToPt = function (ll) {\r\n        return this.projectionHelper.getProjection().fromLatLngToDivPixel(ll);\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.makeHighlightListenerFuncs = function (marker) {\r\n        var _this = this;\r\n        var mapTypeId = this.map.getMapTypeId();\r\n        return {\r\n            highlight: function () { return marker['_omsData'].leg.setOptions({\r\n                strokeColor: _this.legColors.highlighted[mapTypeId],\r\n                zIndex: _this.highlightedLegZIndex\r\n            }); },\r\n            unhighlight: function () { return marker['_omsData'].leg.setOptions({\r\n                strokeColor: _this.legColors.usual[mapTypeId],\r\n                zIndex: _this.usualLegZIndex\r\n            }); }\r\n        };\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.markerChangeListener = function (marker, positionChanged) {\r\n        if (this.spiderfying || this.unspiderfying) {\r\n            return;\r\n        }\r\n        if (marker['_omsData'] && (positionChanged || !marker.getVisible())) {\r\n            this.unspiderfy(positionChanged ? marker : null);\r\n        }\r\n        return this.formatMarkers();\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.markerProximityData = function () {\r\n        var _this = this;\r\n        if (this.projectionHelper.getProjection() == null) {\r\n            throw 'Must wait for \\'idle\\' event on map before calling markersNearAnyOtherMarker';\r\n        }\r\n        var nDist = this.nearbyDistance;\r\n        var pxSq = nDist * nDist;\r\n        var mData = this.markers.map(function (marker) { return ({\r\n            pt: _this.llToPt(marker['_omsData'] && marker['_omsData'].usualPosition || marker.position),\r\n            willSpiderfy: false\r\n        }); });\r\n        for (var i1 = 0; i1 < this.markers.length; i1++) {\r\n            var m1 = this.markers[i1];\r\n            if (m1.getMap() == null || !m1.getVisible()) {\r\n                continue;\r\n            } // marker not visible: ignore\r\n            var m1Data = mData[i1];\r\n            if (m1Data.willSpiderfy) {\r\n                continue;\r\n            } // true in the case that we've assessed an earlier marker that was near this one\r\n            for (var i2 = 0; i2 < this.markers.length; i2++) {\r\n                var m2 = this.markers[i2];\r\n                if (i2 === i1) {\r\n                    continue;\r\n                } // markers cannot be near themselves: ignore\r\n                if (m2.getMap() == null || !m2.getVisible()) {\r\n                    continue;\r\n                } // marker not visible: ignore\r\n                var m2Data = mData[i2];\r\n                if (i2 < i1 && !m2Data.willSpiderfy) {\r\n                    continue;\r\n                } // if i2 < i1, m2 has already been checked for proximity to any other marker;\r\n                // so if willSpiderfy is false, it cannot be near any other marker, including this one (m1)\r\n                if (OverlappingMarkerSpiderfier.ptDistanceSq(m1Data.pt, m2Data.pt) < pxSq) {\r\n                    m1Data.willSpiderfy = m2Data.willSpiderfy = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return mData;\r\n    };\r\n    OverlappingMarkerSpiderfier.minExtract = function (set, callback) {\r\n        // destructive! returns minimum, and also removes it from the set\r\n        var bestIndex = null;\r\n        var bestValue = null;\r\n        for (var index = 0; index < set.length; index++) {\r\n            var item = set[index];\r\n            var value = callback(item);\r\n            if (bestIndex === null || value < bestValue) {\r\n                bestValue = value;\r\n                bestIndex = index;\r\n            }\r\n        }\r\n        return set.splice(bestIndex, 1)[0];\r\n    };\r\n    OverlappingMarkerSpiderfier.ptAverage = function (points) {\r\n        var _a = points.reduce(function (result, current) {\r\n            result.x += current.x;\r\n            result.y += current.y;\r\n            return result;\r\n        }, { x: 0, y: 0 }), x = _a.x, y = _a.y;\r\n        return new google.maps.Point(x / points.length, y / points.length);\r\n    };\r\n    OverlappingMarkerSpiderfier.ptDistanceSq = function (pt1, pt2) {\r\n        var dx = pt1.x - pt2.x;\r\n        var dy = pt1.y - pt2.y;\r\n        return dx * dx + dy * dy;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.ptToLl = function (pt) {\r\n        return this.projectionHelper.getProjection().fromDivPixelToLatLng(pt);\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.spiderfy = function (markerData, nonNearbyMarkers) {\r\n        var _this = this;\r\n        var mapTypeId = this.map.getMapTypeId();\r\n        var numFeet = markerData.length;\r\n        this.spiderfying = true;\r\n        var bodyPt = OverlappingMarkerSpiderfier.ptAverage(markerData.map(function (data) { return data.markerPt; }));\r\n        var footPts = numFeet >= this.circleSpiralSwitchover ?\r\n            this.generatePtsSpiral(numFeet, bodyPt).reverse() : // match from outside in => less criss-crossing\r\n            this.generatePtsCircle(numFeet, bodyPt);\r\n        var spiderfiedMarkers = footPts.map(function (footPt) {\r\n            var footLl = _this.ptToLl(footPt);\r\n            var nearestMarkerDatum = OverlappingMarkerSpiderfier.minExtract(markerData, function (data) { return OverlappingMarkerSpiderfier.ptDistanceSq(data.markerPt, footPt); });\r\n            var marker = nearestMarkerDatum.marker;\r\n            var leg = new google.maps.Polyline({\r\n                map: _this.map,\r\n                path: [marker.position, footLl],\r\n                strokeColor: _this.legColors.usual[_this.map.getMapTypeId()],\r\n                strokeWeight: _this.legWeight,\r\n                zIndex: _this.usualLegZIndex\r\n            });\r\n            marker['_omsData'] = {\r\n                usualPosition: marker.getPosition(),\r\n                usualZIndex: marker.getZIndex(),\r\n                leg: leg\r\n            };\r\n            if (_this.legColors.highlighted[mapTypeId] !== _this.legColors.usual[mapTypeId]) {\r\n                var highlightListenerFuncs = _this.makeHighlightListenerFuncs(marker);\r\n                marker['_omsData'].hightlightListeners = {\r\n                    highlight: google.maps.event.addListener(marker, 'mouseover', highlightListenerFuncs.highlight),\r\n                    unhighlight: google.maps.event.addListener(marker, 'mouseout', highlightListenerFuncs.unhighlight)\r\n                };\r\n            }\r\n            _this.trigger('format', marker, OverlappingMarkerSpiderfier.markerStatus.SPIDERFIED);\r\n            marker.setPosition(footLl);\r\n            marker.setZIndex(Math.round(_this.spiderfiedZIndex + footPt.y)); // lower markers cover higher\r\n            return marker;\r\n        });\r\n        this.spiderfying = false;\r\n        this.spiderfied = true;\r\n        return this.trigger('spiderfy', spiderfiedMarkers, nonNearbyMarkers);\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.spiderListener = function (marker, event) {\r\n        var markerSpiderfied = !!marker['_omsData'];\r\n        if (!markerSpiderfied || !this.keepSpiderfied) {\r\n            this.unspiderfy();\r\n        }\r\n        if (markerSpiderfied || this.map.getStreetView().getVisible() || this.map.getMapTypeId() === 'GoogleEarthAPI') {\r\n            // don't spiderfy in Street View or GE Plugin!\r\n            return this.trigger('click', marker, event);\r\n        }\r\n        var nearbyMarkerData = [];\r\n        var nonNearbyMarkers = [];\r\n        var nDist = this.nearbyDistance;\r\n        var pxSq = nDist * nDist;\r\n        var markerPt = this.llToPt(marker.position);\r\n        for (var i = 0; i < this.markers.length; i++) {\r\n            var m = this.markers[i];\r\n            if (m.map == null || !m.getVisible()) {\r\n                continue;\r\n            } // at 2011-08-12, property m.visible is undefined in API v3.5\r\n            var mPt = this.llToPt(m.position);\r\n            if (OverlappingMarkerSpiderfier.ptDistanceSq(mPt, markerPt) < pxSq) {\r\n                nearbyMarkerData.push({ marker: m, markerPt: mPt });\r\n            }\r\n            else {\r\n                nonNearbyMarkers.push(m);\r\n            }\r\n        }\r\n        if (nearbyMarkerData.length === 1) {\r\n            // 1 => the one clicked => none nearby\r\n            return this.trigger('click', marker, event);\r\n        }\r\n        return this.spiderfy(nearbyMarkerData, nonNearbyMarkers);\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.trigger = function (eventName) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.listeners[eventName]) {\r\n            return this.listeners[eventName].map(function (listener) { return listener.apply(void 0, args); });\r\n        }\r\n        return [];\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.addMarker = function (marker, spiderClickHandler) {\r\n        marker.setMap(this.map);\r\n        return this.trackMarker(marker, spiderClickHandler);\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.trackMarker = function (marker, spiderClickHandler) {\r\n        var _this = this;\r\n        if (marker['_oms']) {\r\n            return this;\r\n        }\r\n        marker['_oms'] = true;\r\n        // marker.setOptions optimized: no  # 'optimized' rendering is sometimes buggy, but seems mainly OK on current GMaps\r\n        var listenerRefs = [\r\n            google.maps.event.addListener(marker, 'click', function (event) { return _this.spiderListener(marker, event); })\r\n        ];\r\n        if (!this.markersWontHide) {\r\n            listenerRefs.push(google.maps.event.addListener(marker, 'visible_changed', function () { return _this.markerChangeListener(marker, false); }));\r\n        }\r\n        if (!this.markersWontMove) {\r\n            listenerRefs.push(google.maps.event.addListener(marker, 'position_changed', function () { return _this.markerChangeListener(marker, true); }));\r\n        }\r\n        if (spiderClickHandler) {\r\n            listenerRefs.push(google.maps.event.addListener(marker, 'spider_click', spiderClickHandler));\r\n        }\r\n        this.markerListenerRefs.push(listenerRefs);\r\n        this.markers.push(marker);\r\n        if (this.basicFormatEvents) {\r\n            // if using basic events, just format this marker as unspiderfied\r\n            this.trigger('format', marker, OverlappingMarkerSpiderfier.markerStatus.UNSPIDERFIED);\r\n        }\r\n        else {\r\n            // otherwise, format as unspiderfiable now, and recalculate all marker formatting at end of run loop\r\n            this.trigger('format', marker, OverlappingMarkerSpiderfier.markerStatus.UNSPIDERFIABLE);\r\n            this.formatMarkers();\r\n        }\r\n        return this; // return self, for chaining\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.removeMarker = function (marker) {\r\n        this.forgetMarker(marker);\r\n        marker.setMap(null);\r\n        return this;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.forgetMarker = function (marker) {\r\n        if (marker['_omsData']) {\r\n            this.unspiderfy();\r\n        }\r\n        var index = this.markers.indexOf(marker);\r\n        if (index !== -1) {\r\n            var listenerRefs = this.markerListenerRefs.splice(index, 1)[0];\r\n            listenerRefs.forEach(function (listener) { return listener.remove(); });\r\n            delete marker['_oms'];\r\n            this.markers.splice(index, 1);\r\n            this.formatMarkers();\r\n        }\r\n        return this;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.removeAllMarkers = function () {\r\n        var markers = this.getMarkers();\r\n        this.forgetAllMarkers();\r\n        markers.forEach(function (marker) { return marker.setMap(null); });\r\n        return this;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.forgetAllMarkers = function () {\r\n        this.unspiderfy();\r\n        this.markerListenerRefs.forEach(function (listeners) {\r\n            listeners.forEach(function (listener) { return listener.remove(); });\r\n        });\r\n        this.markers.forEach(function (marker) {\r\n            delete marker['_oms'];\r\n        });\r\n        this.initMarkerArrays();\r\n        return this;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.getMarkers = function () {\r\n        return this.markers.slice();\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.addListener = function (eventName, listener) {\r\n        this.listeners[eventName] = this.listeners[eventName] || [];\r\n        this.listeners[eventName].push(listener);\r\n        return this;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.removeListener = function (eventName, listener) {\r\n        if (this.listeners[eventName]) {\r\n            var index = this.listeners[eventName].indexOf(listener);\r\n            if (index !== -1) {\r\n                this.listeners[eventName].splice(index, 1);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.clearListeners = function (eventName) {\r\n        this.listeners[eventName] = [];\r\n        return this;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.markersNearMarker = function (marker, firstOnly) {\r\n        if (firstOnly === void 0) { firstOnly = false; }\r\n        if (this.projectionHelper.getProjection() == null) {\r\n            throw 'Must wait for \\'idle\\' event on map before calling markersNearMarker';\r\n        }\r\n        var nDist = this.nearbyDistance;\r\n        var pxSq = nDist * nDist;\r\n        var markerPt = this.llToPt(marker.position);\r\n        var markers = [];\r\n        for (var i = 0; i < this.markers.length; i++) {\r\n            var current = this.markers[i];\r\n            if (current === marker || current.map == null || !current.getVisible()) {\r\n                continue;\r\n            }\r\n            var mPt = this.llToPt(current['_omsData'] && current['_omsData'].usualPosition || current.position);\r\n            if (OverlappingMarkerSpiderfier.ptDistanceSq(mPt, markerPt) < pxSq) {\r\n                markers.push(current);\r\n                if (firstOnly) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return markers;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.markersNearAnyOtherMarker = function () {\r\n        // *very* much quicker than calling markersNearMarker in a loop\r\n        var mData = this.markerProximityData();\r\n        var result = [];\r\n        for (var i = 0; i < this.markers.length; i++) {\r\n            var m = this.markers[i];\r\n            if (mData[i].willSpiderfy) {\r\n                result.push(m);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    OverlappingMarkerSpiderfier.prototype.unspiderfy = function (markerNotToMove) {\r\n        if (markerNotToMove === void 0) { markerNotToMove = null; }\r\n        if (!this.spiderfied) {\r\n            return this;\r\n        }\r\n        this.unspiderfying = true;\r\n        var unspiderfiedMarkers = [];\r\n        var nonNearbyMarkers = [];\r\n        for (var i = 0; i < this.markers.length; i++) {\r\n            var marker = this.markers[i];\r\n            if (marker['_omsData']) {\r\n                marker['_omsData'].leg.setMap(null);\r\n                if (marker !== markerNotToMove) {\r\n                    marker.setPosition(marker['_omsData'].usualPosition);\r\n                }\r\n                marker.setZIndex(marker['_omsData'].usualZIndex);\r\n                var listeners = marker['_omsData'].hightlightListeners;\r\n                if (listeners) {\r\n                    google.maps.event.removeListener(listeners.highlight);\r\n                    google.maps.event.removeListener(listeners.unhighlight);\r\n                }\r\n                delete marker['_omsData'];\r\n                if (marker !== markerNotToMove) {\r\n                    // if marker is markerNotToMove, formatMarkers is about to be called anyway\r\n                    var status_1 = this.basicFormatEvents ?\r\n                        OverlappingMarkerSpiderfier.markerStatus.UNSPIDERFIED :\r\n                        OverlappingMarkerSpiderfier.markerStatus.SPIDERFIABLE; // unspiderfying? must be spiderfiable\r\n                    this.trigger('format', marker, status_1);\r\n                }\r\n                unspiderfiedMarkers.push(marker);\r\n            }\r\n            else {\r\n                nonNearbyMarkers.push(marker);\r\n            }\r\n        }\r\n        this.unspiderfying = false;\r\n        this.spiderfied = false;\r\n        this.trigger('unspiderfy', unspiderfiedMarkers, nonNearbyMarkers);\r\n        return this; // return self, for chaining\r\n    };\r\n    OverlappingMarkerSpiderfier.markerStatus = MarkerStatus;\r\n    OverlappingMarkerSpiderfier.optionAttributes = [\r\n        'markersWontHide',\r\n        'markersWontMove',\r\n        'basicFormatEvents',\r\n        'keepSpiderfied',\r\n        'ignoreMapClick',\r\n        'nearbyDistance',\r\n        'circleSpiralSwitchover',\r\n        'circleFootSeparation',\r\n        'circleStartAngle',\r\n        'spiralFootSeparation',\r\n        'spiralLengthStart',\r\n        'spiralLengthFactor',\r\n        'legWeight',\r\n    ];\r\n    return OverlappingMarkerSpiderfier;\r\n}());\r\nexport { OverlappingMarkerSpiderfier };\r\n//# sourceMappingURL=oms.js.map"],"names":["this"],"mappings":"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"}